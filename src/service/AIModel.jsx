import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Mauritius for 3 days for Couple with a Cheap Budget. Give me a Hotel list with HotelName, Hotel Address, Price, Hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Detail, Place Image url, geo location, ticket pricing, time to travel each loaction for 1 wekk with each day plan with best time to visit. Also suggest good restaurant to eat Lunch and Dinner with ratings, price, geo location and image url of their best food. In JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Mauritius\",\n    \"duration\": \"3 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"Le Suffren Hotel & Marina\",\n        \"hotelAddress\": \"Quai de Suffren, Port Louis, Mauritius\",\n        \"price\": \"$60 - $80 per night\",\n        \"hotelImageUrl\": \"https://www.booking.com/hotel/mu/le-suffren-hotel-marina.en-gb.html\",\n        \"geoCoordinates\": \"-20.1638, 57.4940\",\n        \"rating\": 4.5,\n        \"description\": \"A charming hotel located in the heart of Port Louis, offering comfortable rooms and a beautiful marina view. It's a great choice for couples looking for a budget-friendly stay with easy access to the city's attractions.\"\n      },\n      {\n        \"hotelName\": \"The Ravenala Attitude\",\n        \"hotelAddress\": \"Balaclava, Mauritius\",\n        \"price\": \"$70 - $90 per night\",\n        \"hotelImageUrl\": \"https://www.attitudehotels.com/en/hotel-mauritius/ravenala-attitude/\",\n        \"geoCoordinates\": \"-20.0075, 57.6596\",\n        \"rating\": 4.0,\n        \"description\": \"A vibrant hotel in Balaclava with a relaxed atmosphere and a focus on local culture. They offer a variety of activities and excursions, making it a good option for couples looking for a fun and adventurous stay.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1\",\n        \"activities\": [\n          {\n            \"placeName\": \"Port Louis\",\n            \"placeDetail\": \"Explore the vibrant capital city of Mauritius. Visit the bustling Central Market, the historic Aapravasi Ghat (a UNESCO World Heritage Site), and the magnificent Caudan Waterfront.\",\n            \"placeImageUrl\": \"https://www.google.com/search?q=port+louis+mauritius+images&tbm=isch&ved=2ahUKEwi4p4n029L9AhVJG80KHU0_A3oQ2-cCegQIABAA&oq=port+louis+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.515j0g_J6k0\",\n            \"geoLocation\": \"-20.1638, 57.4940\",\n            \"ticketPricing\": \"Free entry to most attractions\",\n            \"timeToTravel\": \"Full day\"\n          },\n          {\n            \"placeName\": \"Blue Penny Museum\",\n            \"placeDetail\": \"Learn about the history of Mauritius through its stamps and other rare artifacts. Admire the iconic 'Blue Penny' and other valuable stamps.\",\n            \"placeImageUrl\": \"https://www.google.com/search?q=blue+penny+museum+mauritius+images&tbm=isch&ved=2ahUKEwj-t7_O29L9AhX0lGoKHcY3B-0Q2-cCegQIABAA&oq=blue+penny+museum+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.w2y6L9kLhVk\",\n            \"geoLocation\": \"-20.1638, 57.4940\",\n            \"ticketPricing\": \"Around Rs 200 per person\",\n            \"timeToTravel\": \"2 hours\"\n          }\n        ],\n        \"restaurants\": [\n          {\n            \"restaurantName\": \"La Rougaille Creole\",\n            \"restaurantDetail\": \"Enjoy traditional Mauritian cuisine at this popular restaurant in Port Louis. Try their famous 'rougaille' (a spicy tomato and onion sauce) with various meats or fish.\",\n            \"restaurantImageUrl\": \"https://www.google.com/search?q=la+rougaille+creole+mauritius+images&tbm=isch&ved=2ahUKEwj05d6K29L9AhW4kGoKHZ7RCcEQ2-cCegQIABAA&oq=la+rougaille+creole+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.r4j8450xZ4w\",\n            \"geoLocation\": \"-20.1638, 57.4940\",\n            \"restaurantRating\": 4.0,\n            \"priceRange\": \"$$\",\n            \"bestFood\": \"Rougaille with fish or chicken\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 2\",\n        \"activities\": [\n          {\n            \"placeName\": \"Pamplemousses Botanical Garden\",\n            \"placeDetail\": \"Wander through this stunning botanical garden, home to a vast collection of exotic plants, including the giant water lilies and the famous 'Talipot' palm.\",\n            \"placeImageUrl\": \"https://www.google.com/search?q=pamplemousses+botanical+garden+mauritius+images&tbm=isch&ved=2ahUKEwi9y8yR29L9AhW_kGoKHd0zB_kQ2-cCegQIABAA&oq=pamplemousses+botanical+garden+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.6aO6b0oH_g\",\n            \"geoLocation\": \"-20.0222, 57.5033\",\n            \"ticketPricing\": \"Around Rs 200 per person\",\n            \"timeToTravel\": \"3-4 hours\"\n          },\n          {\n            \"placeName\": \"Grand Baie\",\n            \"placeDetail\": \"Explore the lively seaside town of Grand Baie. Enjoy the vibrant atmosphere, go shopping, or simply relax on the beach.\",\n            \"placeImageUrl\": \"https://www.google.com/search?q=grand+baie+mauritius+images&tbm=isch&ved=2ahUKEwi_17zR29L9AhX8lGoKHU-VC1oQ2-cCegQIABAA&oq=grand+baie+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.d48w21261w\",\n            \"geoLocation\": \"-20.0022, 57.6485\",\n            \"ticketPricing\": \"Free entry\",\n            \"timeToTravel\": \"Half day\"\n          }\n        ],\n        \"restaurants\": [\n          {\n            \"restaurantName\": \"Le Jardi de la Plage\",\n            \"restaurantDetail\": \"Indulge in fresh seafood and local delicacies at this charming restaurant located by the beach in Grand Baie. Enjoy the beautiful ocean views while savoring your meal.\",\n            \"restaurantImageUrl\": \"https://www.google.com/search?q=le+jardi+de+la+plage+grand+baie+mauritius+images&tbm=isch&ved=2ahUKEwiS-I7N29L9AhUjlgIHHZ9zC_oQ2-cCegQIABAA&oq=le+jardi+de+la+plage+grand+baie+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.5iZ-20x2iRg\",\n            \"geoLocation\": \"-20.0022, 57.6485\",\n            \"restaurantRating\": 4.2,\n            \"priceRange\": \"$$\",\n            \"bestFood\": \"Grilled fish with lemon butter sauce\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 3\",\n        \"activities\": [\n          {\n            \"placeName\": \"Flic en Flac Beach\",\n            \"placeDetail\": \"Relax and enjoy the beautiful white sand beach of Flic en Flac. Take a swim in the turquoise waters, go snorkeling, or simply soak up the sun.\",\n            \"placeImageUrl\": \"https://www.google.com/search?q=flic+en+flac+beach+mauritius+images&tbm=isch&ved=2ahUKEwjQ3I-T29L9AhW_kGoKHZ0sBpEQ2-cCegQIABAA&oq=flic+en+flac+beach+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.7fJ-X9Yj8mE\",\n            \"geoLocation\": \"-20.2698, 57.3816\",\n            \"ticketPricing\": \"Free entry\",\n            \"timeToTravel\": \"Full day\"\n          }\n        ],\n        \"restaurants\": [\n          {\n            \"restaurantName\": \"La Bonne Chère\",\n            \"restaurantDetail\": \"Enjoy traditional Mauritian cuisine and seafood at this popular restaurant in Flic en Flac. They offer a relaxed atmosphere and friendly service.\",\n            \"restaurantImageUrl\": \"https://www.google.com/search?q=la+bonne+chere+flic+en+flac+mauritius+images&tbm=isch&ved=2ahUKEwj2lM-U29L9AhWqllkKHb-yC2oQ2-cCegQIABAA&oq=la+bonne+chere+flic+en+flac+mauritius+images&gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADoECAAQQzoHCAAQsQMQQzoFCAAQgAQ6BAgAEEM6CAgAELEDEIMBOgcIABCxAxBDOgUIABCxAzoICAAQsQMQgwE6CwgAEIAEELEDEIMBOggIABCxAxCDAToLCAAQsQMQQzoGCAAQHhANOgcIABCxAxCDAToLCAAQsQMQQzoICAAQsQMQQzoHCAAQsQMQQzoFCCMQJxAbAB4AIABiwGIAZ8BkgEDMi4zmAEAoAEBqgELZ3dzLXdpei1pbWfAAAAAEg8QDw4SAQ0oQjYxNjI5OTIuMC4xLjE.5X4tG3W0_M\",\n            \"geoLocation\": \"-20.2698, 57.3816\",\n            \"restaurantRating\": 4.2,\n            \"priceRange\": \"$$\",\n            \"bestFood\": \"Rougaille with octopus\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation:**\n\nThis JSON object provides a travel plan for a couple visiting Mauritius for 3 days on a cheap budget. It includes:\n\n* **Location:** Mauritius\n* **Duration:** 3 days\n* **Travelers:** Couple\n* **Budget:** Cheap\n* **Hotels:**\n    * **Le Suffren Hotel & Marina:** Budget-friendly option in Port Louis with marina views.\n    * **The Ravenala Attitude:** Vibrant hotel in Balaclava with local cultural focus.\n* **Itinerary:**\n    * **Day 1:** Explores Port Louis with its Central Market, Aapravasi Ghat, and Caudan Waterfront. Includes a visit to the Blue Penny Museum.\n    * **Day 2:**  Visits the Pamplemousses Botanical Garden and then explores the lively Grand Baie seaside town.\n    * **Day 3:** Relaxing day spent at Flic en Flac Beach.\n* **Restaurants:**\n    * **La Rougaille Creole (Port Louis):** Offers traditional Mauritian cuisine with a focus on rougaille.\n    * **Le Jardi de la Plage (Grand Baie):**  Serves fresh seafood and local delicacies with ocean views.\n    * **La Bonne Chère (Flic en Flac):**  Popular spot for traditional Mauritian cuisine and seafood in a relaxed atmosphere.\n\n**Please Note:**\n\n* The pricing for hotels and restaurants is approximate and may vary depending on the time of year and availability.\n* Ticket prices and time to travel may also vary.\n* You can customize the itinerary and restaurant choices according to your preferences. \n*  Remember to check for current opening hours and entry fees for each attraction.\n\n**Additional Tips for a Cheap Budget:**\n\n* **Travel during the off-season:**  Consider visiting Mauritius during the shoulder seasons (April-May or September-October) for lower prices.\n* **Stay in guesthouses or apartments:**  Look for affordable accommodation options outside the main tourist areas.\n* **Eat at local markets and street food stalls:**  These offer delicious and budget-friendly meals.\n* **Explore on your own:**  Take advantage of public transportation or rent a car to explore the island independently.\n* **Enjoy free activities:**  Take advantage of free activities such as walking, swimming, sunbathing, and exploring nature.\n"},
        ],
      },
    ],
});